# app/services/sql_schema.py

# SYSTEM PROMPT
SQL_SYSTEM_PROMPT = """
너는 제조업(자동차 1차 협력사) 구매·생산·재고·판매 계획 데이터를 다루는
MySQL용 SQL 전문가다. 사용자의 한국어 질문을 읽고, MySQL에서 실행 가능한
SELECT 쿼리를 JSON 형식으로 생성한다.

[역할]
- 사용자의 질문에 답하기 위해 어떤 테이블이 필요한지 판단한다.
- 필요한 경우 테이블을 조인하고 WHERE, GROUP BY, ORDER BY, LIMIT 등을 적절히 사용해 쿼리를 만든다.
- 아래 7개 테이블 안에서만 해결해야 한다.
  - all_plan, bom, stock_check, standard_info,
    sales_plan, normal_material, purchase_order

[중요 규칙]
1. 반드시 MySQL 기준 SELECT 문만 생성한다.
   - INSERT / UPDATE / DELETE / CREATE / DROP / ALTER 등은 절대 사용하지 않는다.
2. 스키마에 정의되지 않은 테이블명, 컬럼명은 절대 사용하지 않는다.
3. 실제 컬럼명은 모두 한국어이므로, 쿼리에서는 반드시 백틱(`)으로 감싸서 사용한다.
   예시:
   - SELECT `플랜트`, SUM(`재고금액`) AS `재고금액합` FROM `stock_check` ...
   - SELECT `대표차종`, SUM(`계획량`) FROM `all_plan` WHERE `플랜트` = '1010' ...

4. 집계(합계, 평균, 개수, TOP N 등)가 필요하면 SUM, COUNT, AVG 등의 집계함수와
   GROUP BY를 명확하게 사용한다.

5. "금액" 관련 자연어가 나오면 기본적으로 다음 매핑을 우선 고려한다.
   - 재고 금액       → stock_check.`재고금액`
   - 발주 금액       → normal_material.`발주금액` 또는 purchase_order.`발주금액`
   - 입고 금액       → normal_material.`입고금액` 또는 purchase_order.`입고금액`
   - 판매 금액       → sales_plan.`합계금액` 또는 월별 `YYYY.MM 금액(원화)` 컬럼

6. "수량" 관련 자연어가 나오면 기본적으로 다음 매핑을 우선 고려한다.
   - 생산/소요 수량   → all_plan.`계획량`
   - 판매 수량       → sales_plan.`합계수량` 또는 월별 `YYYY.MM 수량`
   - 재고 수량       → stock_check.`재고수량`
   - 발주 수량       → normal_material.`발주수량`, purchase_order.`오더수량`
   - 입고 수량       → normal_material.`입고수량`, purchase_order.`입고수량`

7. "부족", "D0부족", "D0+D1부족", "2일부족" 등의 표현은 all_plan의 다음 컬럼을 우선 사용한다.
   - `D0부족`, `D0+D1부족`
   필요 시 `재고합`, `D0`, `D1`을 이용해 수식으로 재계산할 수도 있지만,
   이미 컬럼이 존재하면 그 컬럼을 그대로 사용하는 것을 선호한다.

8. WHERE 절에서는 날짜/차종/플랜트/자재 등 적절한 필터를 사용하되,
   조건이 모호하면 LIMIT 500을 기본으로 추가해 결과를 제한한다.

9. 쿼리 마지막에 세미콜론(;)을 붙이지 않는다.

10. 출력은 반드시 아래 JSON 형식 **한 줄**만 반환해야 한다.
    - 자연어 설명, 마크다운, 코드블록, 주석 등은 절대 넣지 않는다.

출력 형식 예시:
{"sql": "SELECT `플랜트`, SUM(`재고금액`) AS `재고금액합` FROM `stock_check` GROUP BY `플랜트` ORDER BY `재고금액합` DESC LIMIT 500"}
"""

PURCHASE_SCHEMA_DOC = """
[SCHEMA: 일지테크 구매·생산·재고·판매 테이블 구조]

----------------------------------------------------------------------
[TABLE: all_plan]  -- 일일 생산계획 + 재고 + 부족 + UPH
----------------------------------------------------------------------

※ 실제 컬럼명은 한국어 기준. 대표 예시는 아래와 같음.

- date             : 생산계획이 적용되는 기준 날짜 (YYYY-MM-DD)
- 플랜트             : 생산이 이루어지는 공장 코드
                       예) 1010(경산), 1020/1021~1024(경주 공장 등)
- 대표차종           : 해당 라인에서 생산되는 현대차 차종 그룹
                       예) US4, NH2, NX4, CN7, LX3, SX2, MX5 등
- 라인코드           : 생산 라인을 구분하는 코드
                       예) US401, NH2S01, NH2S02, NX4S01, NX4R01 ...
- 자재번호                : 생산에 사용되는 자재(완성품 기준) 코드
- 생산 버전          : 동일 자재라도 라인/공정 조건에 따라 구분되는 버전
- 기초재고           : 당일 0시 기준 양품 재고
- 기초재고_부적합   : 불량·보류 등 즉시 사용 불가 재고
- 고객재고           : 고객 또는 타 라인에 이미 배정된 재고
- 재고합             : 기초재고 + 부적합 + 고객재고의 합계 (총 재고량)
- D0                 : 당일 차량 생산대수 (오늘 필요 차량 수)
- D1                 : 익일 차량 생산대수 (내일 필요 차량 수)
- D0부족             : 당일 부족량 = 재고합 − D0
- D0_D1부족          : 2일 기준 부족량 = 재고합 − (D0 + D1)
- 계획량             : 해당 자재의 일일 생산/소요 계획 수량

----------------------------------------------------------------------
[TABLE: bom]  -- 차종별 BOM (완성품 ↔ 구성품, 소요량, 조달유형)
----------------------------------------------------------------------

- 전개번호           : BOM Level 구조 표현 ('.', '..1', '...3' 등)
- 자재그룹           : 자재가 속한 그룹 코드 (예: 1000, 1200 등)
- 품목번호           : 전개번호 .0번 아래부터 +=10 씩 매겨지는 번호
- 품목범주           : 자재 분류 카테고리 (예: L = 하위 구성품)
- 자재번호           : 해당 자재의 고유코드
- 구성요소내역       : 자재명/자재 이름
- 조달유형           : 조달 방식 코드 (F=외부 조달, E=사내 생산)
- 특별조달유형       : 특수 조달 형태 (예: 40, 43 등)
- 공급업체           : 공급업체(Vendor) 코드
- 공급업체명         : 공급업체 명칭
- 대표차종           : 구성품이 적용되는 차종 (예: CN7, COMM, NX4 등)
- 평가클래스         : 자재의 회계·재무 평가 클래스 (예: 7920, 3014, 3000 등)
- 단위량             : 구성품 단위당 사용량
- 단위               : 단위 (EA, KG 등)
- 소요량_구성품     : 완성품 1EA 생산 시 필요한 구성품 수량
- 기준수량_모       : 상위 Assembly 기준 기준수량 (보통 1EA)
- 효력시작일         : 해당 BOM이 유효해지는 날짜
- 효력종료일         : BOM 종료일 (미정 시 9999-12-31)
- 차종               : BOM 통합 시 구분용 차종 코드 (NX4, SX2, CN7, COMM, TL 등)

----------------------------------------------------------------------
[TABLE: stock_check]  -- 현재 재고 스냅샷, 날짜 언급이 없을 때 사용
----------------------------------------------------------------------

※ 이 테이블이 지금 문제 터졌던 곳. 실제 컬럼명은 전부 한국어.

- 플랜트           : 재고가 속한 공장 코드
                     예) 1010(경산), 1021~1024(경주 공장)
- 대표차종         : 해당 자재가 쓰이는 차종 코드                     
- 자재번호         : 재고 대상 자재의 고유 코드 (조인 KEY)
- 자재내역         : 자재의 한글명 또는 상세명
- 단위             : 자재 수량 단위 (EA, SET, M 등)
- 재고수량         : 현재 보유 재고 수량 (현재고 기준 스냅샷)
- Location         : 실 보관 위치(창고/로케이션 코드, 예: 0101, 0201 등)
- Location명       : Location의 한글 설명 (창고명, 구역명)
- 통화             : 재고 금액 계산 시 사용하는 통화 (KRW, USD 등)
- 재고가           : 단가(재고 평가 금액 기준)
- 재고금액           : 재고가 × 재고수량 (재고 금액)
- 조달유형         : 자재 조달 방법 (F=외주구매, E=내부생산)
- 특별조달유형     : 특수 조달 형태 (예: 40, 43 등)
- 구매그룹         : 담당 구매 그룹 코드
- 구매그룹명       : 구매그룹의 설명
- 평가클래스       : 자재의 회계 평가 유형
- 평가클래스명     : 평가클래스 설명
- 자재유형         : 자재의 속성 분류 코드 (PART 등)
- 자재유형명       : 자재의 속성 분류 이름 (부품 등)
- 자재그룹         : 어떤 공정의 자재인지 그룹 코드
- 자재그룹명       : 자재 그룹 설명 (예: 조립, PRESS)
- 제품계층구조     : 제품의 분류 Tree 코드
- 제품계층구조명   : 제품계층구조의 한글 설명

----------------------------------------------------------------------
[TABLE: standard_info]  -- 구매 기준정보(리드타임, 안전재고 등)
----------------------------------------------------------------------

- 플랜트           : 해당 자재가 적용되는 공장 코드
- 플랜트명         : 플랜트 한글 명칭 (예: 경산공장, 경주1공장 등)
- 자재번호         : 기준정보가 적용되는 자재의 고유번호
- 자재내역         : 자재 설명(품명)
- 구매처           : 공급업체 코드 (Vendor Code)
- 구매처명         : 공급업체 한글명
- 적입수량         : 한 번 입고할 때 기본 수량
- 포장유형         : 포장 방식 (BOX, PAL)
- 구매그룹         : 해당 자재가 속하는 그룹 코드
- 구매그룹명       : 해당 자재가 속하는 그룹 한글 설명(부자재구매, 외주자재구매)
- 결제구분         : 부자재구매=NAN, 외주자재구매=P
- 결제구분명       : 결제 조건 상세명
- 최소재고         : 최소 유지해야 하는 재고량
- 기본 단위        : 자재의 기본 단위 (EA, KG 등)
- 입고위치         : 입고되는 창고(Location) 코드
- 입고위치명       : 입고위치 명칭(1200=자재창고)
- 제품계층구조     : 제품 분류코드(Tree 구조)
- 제품계층구조명   : 제품계층구조 설명
- 평가클래스       : 자재 회계 평가 방식
- 클래스명         : 평가클래스 상세 설명
- 자재유형         : 자재의 속성(원자재/반제품/완제품 등)
- 유형명           : 자재유형 상세 설명

----------------------------------------------------------------------
[TABLE: sales_plan]  -- 월별 판매계획
----------------------------------------------------------------------

- 판매처           : 판매/출고가 이루어지는 판매조직 코드
- 판매처명         : 판매처 명칭
- 유통경로         : 유통/거래 경로 코드
- 유통경로명       : 유통경로 명칭 (예: 내수)
- 플랜트           : 출고/생산 플랜트 코드
- 플랜트명         : 플랜트 명칭
- 자재번호         : 판매·생산 대상 자재 코드
- 자재내역         : 자재코드에 대한 내역
- 대표차종         : 차종 코드 (대표차종)
- 단가             : 자재 1단위당 판매 단가
- 기준수량         : 단가 적용 기준 수량
- 단가적용통화     : 단가 통화 (KRW, USD 등)
- 적용환율         : 환율 (단가통화 → 원화)
- 합계수량         : 전체 기간 기준 총 판매 계획 수량
- 합계금액         : 단가 통화 기준 전체 금액
- 합계금액(원화)   : 원화 기준 전체 금액
- 수량단위         : 수량 단위
- 금액단위         : 금액 단위
- 2025.09 수량     : 2025.09월 판매계획 수량
- 2025.09 금액(원화)  : 2025.09월 판매계획 상 자재별 금액
- 2025.10 수량     : 2025.10월 판매계획 수량
- 2025.10 금액(원화)  : 2025.10월 판매계획 상 자재별 금액
- 2025.11 수량     : 2025.11월 판매계획 수량
- 2025.11 금액(원화)  : 2025.11월 판매계획 상 자재별 금액 
- 실적집계기준     : 실적 집계 기준 코드
- 실적집계기준명   : 실적집계기준 명칭
- 출고저장위치     : 출고 저장위치 코드
- 출고저장위치명   : 출고 저장위치 명칭
- 자재그룹         : 자재 그룹 코드
- 자재그룹명       : 자재그룹 명칭
- 손익센터         : 손익센터 코드
- 손익센터명       : 손익센터 명칭
- 평가클래스       : 평가클래스
- 평가클래스내역   : 평가클래스 설명
- 조달유형         : 조달유형 코드
- 조달유형명       : 조달유형 명칭

- 2025.09 수량        : 2025년 9월 판매계획 수량
- 2025.09 금액        : 2025년 9월 판매계획 금액
- 2025.09 금액(원화)  : 2025년 9월 판매계획 금액(원화)
- 2025.10 수량        : ...
- 2025.10 금액        : ...
- 2025.10 금액(원화)  : ...
- 2025.11 수량        : ...
- 2025.11 금액        : ...
- 2025.11 금액(원화)  : ...
- 2025.12 수량        : ...
- 2025.12 금액        : ...
- 2025.12 금액(원화)  : ...

----------------------------------------------------------------------
[TABLE: normal_material]  -- 일반자재 발주·입고·단가 이력
----------------------------------------------------------------------

- 품목번호         : 자재번호(Material No)
- 품목명           : 자재명
- 규격             : 스펙/치수
- 거래처명         : 구매업체명
- 의뢰부서         : 발주 넣은 부서
- 발주일자         : 구매오더 생성일
- 발주단가등록일  : 단가 변동일
- 발주단가         : 발주 시 단가
- 발주수량         : 구매오더 기준 발주 수량
- 발주금액         : 발주단가 × 발주수량
- 입고일자         : 실제 입고일자
- 입고단가         : 입고된 단가
- 입고수량         : 입고된 수량
- 입고금액         : 입고수량 × 단가
- 입고_발주 수량     : 입고수량 - 발주수량
- 입고_발주 금액     : 입고금액 - 발주금액
- 단가상승률       : 단가 변동율

----------------------------------------------------------------------
[TABLE: purchase_order]  -- 구매오더 헤더·아이템 정보
----------------------------------------------------------------------

(실제 컬럼명이 한국어라고 가정)

- 플랜트           : 플랜트 코드
- 플랜트명         : 플랜트명
- 구매오더         : 구매오더 번호
- 구매오더품목     : 한 구매오더 내 품목 순서 (10 = 1, 20 = 2 , ... )
- 생성일           : 구매오더 생성일
- 생성자           : 생성자 ID
- 생성자명         : 생성자 이름
- 구매처           : 구매조직 코드
- 구매처명         : 구매조직 명칭
- 공급업체         : 공급업체 코드
- 공급업체명       : 공급업체 명칭
- 대표차종         : 대표차종 코드
- 자재번호         : 자재번호
- 내역             : 자재 내역(품명)
- 납품요청일       : 납품 요청일(납기)
- 오더수량         : 구매오더 수량
- 단위             : 수량 단위
- 납품서수량       : 납품서 기준 수량
- 입고수량         : 입고 수량
- 미입고수량       : 미입고 수량
- 마감수량         : 마감 수량
- 미마감수량       : 미마감 수량
- 통화             : 통화 코드
- 단가             : 오더 단가
- 가격단위         : 가격 단위
- 조건단위         : 조건 단위
- 발주금액         : 구매오더 기준 발주 금액
- 입고금액         : 입고 기준 금액
- 저장위치         : 저장위치 코드
- 저장위치명       : 저장위치명
- 구매그룹         : 구매그룹 코드
- 납품완료         : 납품완료 플래그
- 제품계층구조     : 제품계층구조 코드
- 제품계층구조명   : 제품계층구조명
- 자재유형         : 자재유형 코드
- 자재유형명       : 자재유형명
- 평가클래스       : 평가클래스 코드
- 평가클래스명     : 평가클래스명
- 조달유형         : 조달유형 코드
- 조달유형명       : 조달유형명

----------------------------------------------------------------------
[Relationships]
----------------------------------------------------------------------

- 공통 자재 키:
  all_plan.`자재`        = stock_check.`자재번호`
                          = standard_info.`자재번호`
                          = sales_plan.`자재코드`
                          = normal_material.`품목번호`
                          = purchase_order.`자재번호`
                          (bom.`구성요소` / bom.`품목번호`와도 논리적으로 연결 가능)

- 플랜트 기준:
  all_plan.`플랜트`     = stock_check.`플랜트`
                        = standard_info.`플랜트`
                        = sales_plan.`플랜트`
                        = normal_material.`플랜트`
                        = purchase_order.`플랜트`

- 차종/대표차종 기준:
  all_plan.`대표차종`   = bom.`대표차종`
                        = sales_plan.`차종`
                        = purchase_order.`대표차종`

----------------------------------------------------------------------
[Business term mapping]
----------------------------------------------------------------------

- "플랜트", "공장", "공장별"
    → 각 테이블의 `플랜트`
- "차종", "대표차종"
    → all_plan.`대표차종`, bom.`대표차종`, sales_plan.`차종`, purchase_order.`대표차종`
- "자재", "품목", "부품"
    → `자재번호`, `자재코드`, `품목번호`, `품목명`, `자재내역` 등 문맥에 맞는 자재 컬럼
- "재고수량", "현재고"
    → stock_check.`재고수량`
- "재고금액"
    → stock_check.`재고액`
- "안전재고"
    → standard_info.`안전재고`
- "리드타임"
    → standard_info.`리드타임`
- "생산계획", "계획량"
    → all_plan.`계획량`
- "D0", "당일 생산량"
    → all_plan.`D0`
- "D1", "익일 생산량"
    → all_plan.`D1`
- "D0부족"
    → all_plan.`D0부족`
- "D0+D1부족", "2일부족"
    → all_plan.`D0+D1부족`
- "UPH"
    → all_plan.`UPH` 또는 standard_info.`UPH`
- "판매계획 수량"
    → sales_plan.`합계수량` 또는 월별 "YYYY.MM 수량"
- "판매금액"
    → sales_plan.`합계금액` 또는 "YYYY.MM 금액(원화)"
- "발주금액"
    → normal_material.`발주금액` 또는 purchase_order.`발주금액`
- "입고금액"
    → normal_material.`입고금액` 또는 purchase_order.`입고금액`
- "발주수량"
    → normal_material.`발주수량` 또는 purchase_order.`오더수량`
- "입고수량"
    → normal_material.`입고수량` 또는 purchase_order.`입고수량`
- "입고단가"
    → normal_material.`입고단가`

-- 구매오더(purchase_order) 관련 자연어
- "구매오더", "발주오더", "PO"
    → purchase_order 전체
- "구매오더번호", "PO 번호"
    → purchase_order.`구매오더`
- "구매오더품목", "PO 품목"
    → purchase_order.`구매오더품목`
- "오더수량", "PO 수량"
    → purchase_order.`오더수량`
- "발주단가", "PO 단가"
    → purchase_order.`단가`
- "발주금액(구매오더)", "PO 금액"
    → purchase_order.`발주금액`
- "입고금액(구매오더)"
    → purchase_order.`입고금액`
- "구매오더일자", "PO일자", "생성일"
    → purchase_order.`생성일`
- "납품요청일", "납기요청일"
    → purchase_order.`납품요청일`
- "납품서수량"
    → purchase_order.`납품서수량`
- "입고수량(구매오더)"
    → purchase_order.`입고수량`
- "미입고수량"
    → purchase_order.`미입고수량`
- "마감수량"
    → purchase_order.`마감수량`
- "미마감수량"
    → purchase_order.`미마감수량`
- "저장위치"
    → purchase_order.`저장위치`, purchase_order.`저장위치명`
- "구매그룹"
    → purchase_order.`구매그룹`, purchase_order.`구매그룹명`
- "구매처(조직)"
    → purchase_order.`구매처`, purchase_order.`구매처명`
- "공급업체", "거래처"
    → purchase_order.`공급업체`, purchase_order.`공급업체명`
- "제품계층구조"
    → purchase_order.`제품계층구조`, purchase_order.`제품계층구조명`
- "자재유형"
    → purchase_order.`자재유형`, purchase_order.`자재유형명`
- "평가클래스"
    → purchase_order.`평가클래스`, purchase_order.`평가클래스명`
- "조달유형"
    → purchase_order.`조달유형`, purchase_order.`조달유형명`
- "삭제지시", "삭제 여부"
    → purchase_order.`삭제`
- "반품여부"
    → purchase_order.`반품`
- "무상여부"
    → purchase_order.`무상`
- "납품완료여부", "납품 완료"
    → purchase_order.`납품완료`
    
----------------------------------------------------------------------
[TABLE: stock_check_11_24]  -- 현재 재고 스냅샷, 11_24일자
----------------------------------------------------------------------
- 플랜트           : 재고가 속한 공장 코드
                     예) 1010(경산), 1021~1024(경주 공장)
- 대표차종         : 해당 자재가 쓰이는 차종 코드                     
- 자재번호         : 재고 대상 자재의 고유 코드 (조인 KEY)
- 자재내역         : 자재의 한글명 또는 상세명
- 단위             : 자재 수량 단위 (EA, SET, M 등)
- 재고수량         : 현재 보유 재고 수량 (현재고 기준 스냅샷)
- Location         : 실 보관 위치(창고/로케이션 코드, 예: 0101, 0201 등)
- Location명       : Location의 한글 설명 (창고명, 구역명)
- 통화             : 재고 금액 계산 시 사용하는 통화 (KRW, USD 등)
- 재고가           : 단가(재고 평가 금액 기준)
- 재고금액           : 재고가 × 재고수량 (재고 금액)
- 조달유형         : 자재 조달 방법 (F=외주구매, E=내부생산)
- 특별조달유형     : 특수 조달 형태 (예: 40, 43 등)
- 구매그룹         : 담당 구매 그룹 코드
- 구매그룹명       : 구매그룹의 설명
- 평가클래스       : 자재의 회계 평가 유형
- 평가클래스명     : 평가클래스 설명
- 자재유형         : 자재의 속성 분류 코드 (PART 등)
- 자재유형명       : 자재의 속성 분류 이름 (부품 등)
- 자재그룹         : 어떤 공정의 자재인지 그룹 코드
- 자재그룹명       : 자재 그룹 설명 (예: 조립, PRESS)
- 제품계층구조     : 제품의 분류 Tree 코드
- 제품계층구조명   : 제품계층구조의 한글 설명

----------------------------------------------------------------------
[TABLE: stock_check_11_25]  -- 현재 재고 스냅샷, 11_25일자
----------------------------------------------------------------------

- 플랜트           : 재고가 속한 공장 코드
                     예) 1010(경산), 1021~1024(경주 공장)
- 대표차종         : 해당 자재가 쓰이는 차종 코드                     
- 자재번호         : 재고 대상 자재의 고유 코드 (조인 KEY)
- 자재내역         : 자재의 한글명 또는 상세명
- 단위             : 자재 수량 단위 (EA, SET, M 등)
- 재고수량         : 현재 보유 재고 수량 (현재고 기준 스냅샷)
- Location         : 실 보관 위치(창고/로케이션 코드, 예: 0101, 0201 등)
- Location명       : Location의 한글 설명 (창고명, 구역명)
- 통화             : 재고 금액 계산 시 사용하는 통화 (KRW, USD 등)
- 재고가           : 단가(재고 평가 금액 기준)
- 재고금액           : 재고가 × 재고수량 (재고 금액)
- 조달유형         : 자재 조달 방법 (F=외주구매, E=내부생산)
- 특별조달유형     : 특수 조달 형태 (예: 40, 43 등)
- 구매그룹         : 담당 구매 그룹 코드
- 구매그룹명       : 구매그룹의 설명
- 평가클래스       : 자재의 회계 평가 유형
- 평가클래스명     : 평가클래스 설명
- 자재유형         : 자재의 속성 분류 코드 (PART 등)
- 자재유형명       : 자재의 속성 분류 이름 (부품 등)
- 자재그룹         : 어떤 공정의 자재인지 그룹 코드
- 자재그룹명       : 자재 그룹 설명 (예: 조립, PRESS)
- 제품계층구조     : 제품의 분류 Tree 코드
- 제품계층구조명   : 제품계층구조의 한글 설명

----------------------------------------------------------------------
[TABLE: stock_check_11_26]  -- 현재 재고 스냅샷, 11_26일자
----------------------------------------------------------------------

- 플랜트           : 재고가 속한 공장 코드
                     예) 1010(경산), 1021~1024(경주 공장)
- 대표차종         : 해당 자재가 쓰이는 차종 코드                     
- 자재번호         : 재고 대상 자재의 고유 코드 (조인 KEY)
- 자재내역         : 자재의 한글명 또는 상세명
- 단위             : 자재 수량 단위 (EA, SET, M 등)
- 재고수량         : 현재 보유 재고 수량 (현재고 기준 스냅샷)
- Location         : 실 보관 위치(창고/로케이션 코드, 예: 0101, 0201 등)
- Location명       : Location의 한글 설명 (창고명, 구역명)
- 통화             : 재고 금액 계산 시 사용하는 통화 (KRW, USD 등)
- 재고가           : 단가(재고 평가 금액 기준)
- 재고금액           : 재고가 × 재고수량 (재고 금액)
- 조달유형         : 자재 조달 방법 (F=외주구매, E=내부생산)
- 특별조달유형     : 특수 조달 형태 (예: 40, 43 등)
- 구매그룹         : 담당 구매 그룹 코드
- 구매그룹명       : 구매그룹의 설명
- 평가클래스       : 자재의 회계 평가 유형
- 평가클래스명     : 평가클래스 설명
- 자재유형         : 자재의 속성 분류 코드 (PART 등)
- 자재유형명       : 자재의 속성 분류 이름 (부품 등)
- 자재그룹         : 어떤 공정의 자재인지 그룹 코드
- 자재그룹명       : 자재 그룹 설명 (예: 조립, PRESS)
- 제품계층구조     : 제품의 분류 Tree 코드
- 제품계층구조명   : 제품계층구조의 한글 설명

----------------------------------------------------------------------
[TABLE: stock_check_11_27]  -- 현재 재고 스냅샷, 11_27일자
----------------------------------------------------------------------

- 플랜트           : 재고가 속한 공장 코드
                     예) 1010(경산), 1021~1024(경주 공장)
- 대표차종         : 해당 자재가 쓰이는 차종 코드                     
- 자재번호         : 재고 대상 자재의 고유 코드 (조인 KEY)
- 자재내역         : 자재의 한글명 또는 상세명
- 단위             : 자재 수량 단위 (EA, SET, M 등)
- 재고수량         : 현재 보유 재고 수량 (현재고 기준 스냅샷)
- Location         : 실 보관 위치(창고/로케이션 코드, 예: 0101, 0201 등)
- Location명       : Location의 한글 설명 (창고명, 구역명)
- 통화             : 재고 금액 계산 시 사용하는 통화 (KRW, USD 등)
- 재고가           : 단가(재고 평가 금액 기준)
- 재고금액           : 재고가 × 재고수량 (재고 금액)
- 조달유형         : 자재 조달 방법 (F=외주구매, E=내부생산)
- 특별조달유형     : 특수 조달 형태 (예: 40, 43 등)
- 구매그룹         : 담당 구매 그룹 코드
- 구매그룹명       : 구매그룹의 설명
- 평가클래스       : 자재의 회계 평가 유형
- 평가클래스명     : 평가클래스 설명
- 자재유형         : 자재의 속성 분류 코드 (PART 등)
- 자재유형명       : 자재의 속성 분류 이름 (부품 등)
- 자재그룹         : 어떤 공정의 자재인지 그룹 코드
- 자재그룹명       : 자재 그룹 설명 (예: 조립, PRESS)
- 제품계층구조     : 제품의 분류 Tree 코드
- 제품계층구조명   : 제품계층구조의 한글 설명

----------------------------------------------------------------------
[TABLE: stock_check_11_28]  -- 현재 재고 스냅샷, 11_28일자
----------------------------------------------------------------------


- 플랜트           : 재고가 속한 공장 코드
                     예) 1010(경산), 1021~1024(경주 공장)
- 대표차종         : 해당 자재가 쓰이는 차종 코드                     
- 자재번호         : 재고 대상 자재의 고유 코드 (조인 KEY)
- 자재내역         : 자재의 한글명 또는 상세명
- 단위             : 자재 수량 단위 (EA, SET, M 등)
- 재고수량         : 현재 보유 재고 수량 (현재고 기준 스냅샷)
- Location         : 실 보관 위치(창고/로케이션 코드, 예: 0101, 0201 등)
- Location명       : Location의 한글 설명 (창고명, 구역명)
- 통화             : 재고 금액 계산 시 사용하는 통화 (KRW, USD 등)
- 재고가           : 단가(재고 평가 금액 기준)
- 재고금액           : 재고가 × 재고수량 (재고 금액)
- 조달유형         : 자재 조달 방법 (F=외주구매, E=내부생산)
- 특별조달유형     : 특수 조달 형태 (예: 40, 43 등)
- 구매그룹         : 담당 구매 그룹 코드
- 구매그룹명       : 구매그룹의 설명
- 평가클래스       : 자재의 회계 평가 유형
- 평가클래스명     : 평가클래스 설명
- 자재유형         : 자재의 속성 분류 코드 (PART 등)
- 자재유형명       : 자재의 속성 분류 이름 (부품 등)
- 자재그룹         : 어떤 공정의 자재인지 그룹 코드
- 자재그룹명       : 자재 그룹 설명 (예: 조립, PRESS)
- 제품계층구조     : 제품의 분류 Tree 코드
- 제품계층구조명   : 제품계층구조의 한글 설명

----------------------------------------------------------------------
[TABLE: stock_check_11_29]  -- 현재 재고 스냅샷, 11_29일자
----------------------------------------------------------------------


- 플랜트           : 재고가 속한 공장 코드
                     예) 1010(경산), 1021~1024(경주 공장)
- 대표차종         : 해당 자재가 쓰이는 차종 코드                     
- 자재번호         : 재고 대상 자재의 고유 코드 (조인 KEY)
- 자재내역         : 자재의 한글명 또는 상세명
- 단위             : 자재 수량 단위 (EA, SET, M 등)
- 재고수량         : 현재 보유 재고 수량 (현재고 기준 스냅샷)
- Location         : 실 보관 위치(창고/로케이션 코드, 예: 0101, 0201 등)
- Location명       : Location의 한글 설명 (창고명, 구역명)
- 통화             : 재고 금액 계산 시 사용하는 통화 (KRW, USD 등)
- 재고가           : 단가(재고 평가 금액 기준)
- 재고금액           : 재고가 × 재고수량 (재고 금액)
- 조달유형         : 자재 조달 방법 (F=외주구매, E=내부생산)
- 특별조달유형     : 특수 조달 형태 (예: 40, 43 등)
- 구매그룹         : 담당 구매 그룹 코드
- 구매그룹명       : 구매그룹의 설명
- 평가클래스       : 자재의 회계 평가 유형
- 평가클래스명     : 평가클래스 설명
- 자재유형         : 자재의 속성 분류 코드 (PART 등)
- 자재유형명       : 자재의 속성 분류 이름 (부품 등)
- 자재그룹         : 어떤 공정의 자재인지 그룹 코드
- 자재그룹명       : 자재 그룹 설명 (예: 조립, PRESS)
- 제품계층구조     : 제품의 분류 Tree 코드
- 제품계층구조명   : 제품계층구조의 한글 설명
"""

